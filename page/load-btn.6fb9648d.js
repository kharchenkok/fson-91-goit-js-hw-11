function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},l={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in l){var t=l[e];delete l[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){l[e]=t},t.parcelRequired7c6=a);var n=a("fZKcF"),o=a("eHvix"),i=a("7BhbO"),c=a("fXaWX"),d=a("2YGUk"),s=a("j7BGE");const u={userForm:document.getElementById("search-form"),gallery:document.getElementById("gallery"),loadMoreBtn:document.querySelector(".js-load-more"),upBtn:document.getElementById("button-up"),fixedWrapper:document.querySelector(".form-wrapper")};let f=1;let p=new(e(n))(".gallery a",{captionsData:"alt",captionDelay:250,captionClass:"gallery__caption",overlayOpacity:.9,fadeSpeed:350});u.userForm.addEventListener("submit",(function(e){e.preventDefault(),(0,i.clearMarkup)(u.gallery,u.loadMoreBtn);const t=e.currentTarget.elements.searchQuery.value.trim();if(!t||" "===t)return void(0,c.createNotify)("info");f=1,(0,o.fetchImages)(t,f,40).then((e=>{u.gallery.insertAdjacentHTML("beforeend",(0,i.createCardMarkup)(e.hits)),e.totalHits>0&&e.hits.length>0?(0,c.createNotify)("success",e.totalHits):(0,c.createNotify)("failure-no-matching"),e.totalHits>40&&e.hits.length>0&&u.loadMoreBtn.classList.replace("is-hidden","load-more"),p.refresh()})).catch((e=>{console.error("Помилка під час запиту:",e),(0,c.createNotify)("failure-general")}))})),u.loadMoreBtn.addEventListener("click",(function({target:e}){f+=1,e.disabled=!0;const t=u.userForm.elements.searchQuery.value.trim(),r=u.gallery.firstElementChild;if(!r)return;(0,o.fetchImages)(t,f,40).then((e=>{u.gallery.insertAdjacentHTML("beforeend",(0,i.createCardMarkup)(e.hits));const{height:t}=r.getBoundingClientRect();p.refresh(),(0,d.scrollBy)(t),e.totalHits-40*f<=0&&(u.loadMoreBtn.classList.replace("load-more","is-hidden"),(0,s.createLoadMoreObserver)((()=>{(0,c.createNotify)("info-end-results")}),u.gallery.lastElementChild))})).catch((e=>{console.error("Помилка під час запиту:",e),(0,c.createNotify)("failure-general")})).finally((()=>{e.disabled=!1}))})),u.upBtn.addEventListener("click",d.scrollUp),window.addEventListener("scroll",(()=>(0,d.handleScrollEffects)(u.fixedWrapper,u.upBtn))),(0,i.clearMarkup)(u.gallery,u.loadMoreBtn);
//# sourceMappingURL=load-btn.6fb9648d.js.map
